# 更新日志

## [1.1.0.0] - OCT-06-2025 16:59

### 驱动固件勘误

本次没有驱动固件勘误内容

### 驱动固件更新

+ 调整固件编译时间戳至`20251006-1656`
+ 增加默认开启的20分钟无操作自动锁定的安全功能避免以外事故发生
+ 驱动循环挡位逻辑调整，驱动会根据当前电压实时禁用/启用循环档内的挡位并自动调整循环
+ 对驱动固件的每个C源文件增加了该源码文件的文件头和功能描述信息
+ 修改WUT定时器的初始化逻辑，新增针对WUT定时器部分的自动计数器值计算（根据时间参数计算）
+ 修改驱动欠压WUT定时器的唤醒间隔至8000mS，针对新的自动锁定功能做适配。

### 硬件勘误

本次没有硬件勘误内容

### 其余更新

+ 更新readme增加驱动实测的效率数据
+ 更新readme增加驱动新增的自动锁定功能的描述
+ 修正readme内部分书写和描述错误

## [1.0.0.3] - SEP-30-2025 20:16

### 驱动固件勘误

+ 修复特殊模式下低电量提示闪烁导致特殊功能挡位工作异常的问题
+ 修复固件根据LD类型宏自动调整固件配置的宏处理模块工作异常导致编译无法通过的问题
+ 修改固件的option byte内的低压复位点至1.8V，解决单锂电模式下电池电量接近耗尽时系统因启动时瞬时压降导致单片机反复重启无法开启的bug
+ 对固件输出通道模块的矫正电流系数和驱动各挡位的电流配置进行调整解决输出电流偏高的问题。

### 驱动固件更新

+ 调整固件编译时间戳至`20250930-2016`
+ 新增没有低电压保护功能的应急求救用SOS挡位用于户外求生
+ 调整电量指示灯驱动部分的代码，针对应急求救挡位需要关闭电量指示节约电量的功能做适配
+ 增加锁定模式下模拟低功率沙盘指示激光笔的低功率点动输出功能（单击+长按开启低功率输出，松手即熄灭）方便通过安检。
+ 修改巡航呼吸闪和信标脉冲闪的电流至3.1A
+ 修改高亮挡位的电流至2.7A获得更大的挡位电流差距

### 硬件勘误

本次没有硬件勘误内容

### 其余更新

+ 更新readme增加应急求救SOS挡位的功能描述
+ 更新readme增加锁定模式下模拟低功率沙盘指示激光笔的低功率点动输出功能的描述
+ 修改针对NUBB33激光管的预编译固件名称至[XTRLaser_NUBB33.hex](/Firmware/XTRLaser_NUBB33.hex)
+ 新增针对NUBB37激光管的[预编译固件](/Firmware/XTRLaser_NUBB37.hex) **注意：该固件需要特殊的硬件适配，目前硬件暂未给出支持方案，请等待后续更新**

## [1.0.0.2] - SEP-30-2025 11:18

### 驱动固件勘误

+ 修复系统锁定模式下极亮挡位仍然异常生效的bug

### 驱动固件更新

+ 调整固件编译时间戳至`20250930-1119`
+ 新增根据最大电流自适应计算巡航呼吸闪电流斜率的功能，实现电流斜率在单双锂模式下一致
+ 新增根据定义的LD类型自动决定双锂极亮和单锂最大功率的自动定义模块
+ 修改固件的option byte内的低压复位点提高复位电压至2.5V，进一步避免饿死电池

### 硬件勘误

本次没有硬件勘误内容

### 其余更新

+ 更新readme新增固件编译的LD类型选择定义
+ 修正readme内部分书写和描述错误
+ 调整极亮挡位功能的描述，增加在单锂模式下双击尝试进入极亮挡位时驱动的行为描述

## [1.0.0.1] - SEP-29-2025 14:58

### 驱动固件勘误

+ 修正一键灼烧模式超时功能异常导致开启后即使有操作一分钟后也会强制关闭的bug

### 驱动固件更新

+ 调整固件编译时间戳至`20250929-1458`
+ 新增LD类型和固件参数配置的自动定义模块，软件层面支持多种LD(硬件层面待适配)

### 硬件勘误

本次没有硬件勘误内容

### 其余更新

+ 修改预编译固件名称至[XTRLaser_NUBM33.hex](/Firmware/XTRLaser_NUBM33.hex)

## [1.0.0.0] - SEP-29-2025 12:36

### 驱动固件勘误

本次没有驱动固件勘误内容

### 驱动固件更新

+ 初始分支首次提交固件源代码

### 硬件勘误

本次没有硬件勘误内容

### 其余更新

+ 初始分支首次提交初始版PCB文件（包括驱动主PCB和侧按PCB）

----------------------------------------------------------------------------------------------------------------------------------
© redstoner_35 @ 35's Embedded Systems Inc.  2025